# Experience Design Spec

## Context
- 文档更新时间：2025-09-17 09:00
- Scope covers marketing首屏、模板展示、DEMO 卡片、任务与创作者流程等体验交付。
- 交互遵循 shared/BUSINESS_RULES.md；状态体验需与 platform-integration、operations-compliance 同步实现。

## 最新决策摘要（2025-09-16）
- 积分不足时使用“待补扣”阻断弹窗，支持即时充值、稍后补扣与10/50/100 积分快捷档位；补扣完成恢复排队，10 分钟未补扣转为暂停。
- 举报流程设定为初审后 24 小时内完成复核；逾期 1 小时拉起红色告警，指派合规负责人跟进。
- 任务中心提供 20/50 积分双档“加速排队”套餐，使用后列表显示闪电标识与倒计时提示。


## 1. 首页首屏低保真线框
```
+--------------------------------------------------------------+
| 顶部导航：Logo | 模板市场 | 任务中心 | 创作者后台 | 充值按钮 |
+--------------------------------------------------------------+
| Hero 左侧（占宽 60%）：                                      |
|  - 标题："3 步开启 AI 模板变现"                               |
|  - 子文案：收益模型说明（训练收益 + 模板复刻分成）            |
|  - 快速上手流程（水平步骤条）：                              |
|     1. 上传训练成果 → 2. 提交模板审核 → 3. 上线赚积分        |
|  - CTA 主按钮："立即上传素材"；次按钮："查看收益案例"        |
| Hero 右侧（占宽 40%）：                                      |
|  - 账户变现案例卡片（轮播）：                                |
|     标题 + 日/周收益 + 模板复刻量 + 授权数统计                |
|  - 小图注：展示模板缩略图 + "查看工作流" 链接                |
+--------------------------------------------------------------+
| 信任背书条：平台收益总额、创作者数量、平均审核时长            |
+--------------------------------------------------------------+
```
- Mobile 端 Hero 改为纵向：标题置顶，其下是收益模型提示 + 步骤，引导按钮固定底部。
- 插图位预留 16:9 图槽，可后续替换高保真视觉。

## 2. 模板展示网格与筛选
- 栅格：桌面端 4 列 (288px 卡片 + 24px 间距)，平板 3 列，移动 2 列；Top banner 显示筛选概述。
- 筛选控件：
  - 热度排序（默认）/最新/收益最高。
  - 好评率区间 (80% 以上 / 60%-80% / 全部)。
  - 合规状态：全部 / 审核中 / 已下架 / 已整改。
- 精选模板池逻辑说明摆放在筛选栏右侧 info 提示：
  - 入池条件：通过人工审核 + 近 30 日复刻数 Top 20% + 无违规记录。
  - 失效条件：连续 14 天零复刻或被举报成立。
- 卡片 hover 显示：模板标签、创作者授权说明、积分消耗提示。

## 3. 可复刻 DEMO 卡片系统
- 卡片结构：封面图 (16:9)、模板名称、创作者头像、积分消耗、评分。
- 参数说明在卡片底部折叠区，列出模型需求、素材数量、预计训练时长。
- 状态样式：
  - 默认：CTA 按钮文案 "一键复刻"，强调积分消耗 (1 积分/出图)。
  - 处理中：按钮置灰，文案 "复刻中…"；展示进度条，与任务中心实时同步。
  - 冷却/排队：显示预计开始时间，提示可前往任务中心查看。
  - 禁用：若未授权或素材缺失，按钮改为 "申请授权" 并给出指引。

## 4. 合规交互反馈
- 提交前拦截：
  - 检查资料齐全 → 缺少项在表单内高亮并弹出提醒。
  - NSFW 风险提示：展示检测状态 + 建议替换。
- 提交成功：使用对勾插画 + 摘要卡，列出预计审核时长、可前往任务中心。
- 空态：
  - 模板库无数据 → 引导上传作品，链接到快速上手步骤。
  - 审核列表空 → 提示“近期没有待审模板”，展示历史教程入口。
- 异常：
  - 失败 (系统异常) → 红色告警条，提供“重试”和“联系支持”。
  - 违规 (审核驳回) → 黄色警示，显示驳回原因 + “查看整改建议”链接。
- 所有提示组件需统一图标库：成功 (绿色圆圈勾)、警告 (琥珀色感叹号)、错误 (红色叉)。

## 5. 响应式规格
- 断点：Desktop ≥ 1200px，Tablet 768-1199px，Mobile ≤ 767px。
- 排版：
  - Desktop 基础栅格 12 列，边距 80px；Tablet 8 列，边距 40px；Mobile 4 列，边距 16px。
  - 字体：标题 H1 32px/44px，H2 24px/32px，正文 16px/24px，Mobile 缩减 2px。
- 间距：区块间距 Desktop 64px / Tablet 48px / Mobile 32px；组件内部垂直间距 16px。
- 动效：按钮 hover 上移 2px + 阴影增强，loading 采用 1.2s 循环条形动画；全端保持一致。

## 6. 与 Platform-Integration 的状态协同
### 积分不足与补扣提醒
- 启动任务时校验余额，若不足需求（含被保留的冻结积分），将任务状态设为“待补扣”，并展示阻断弹窗：
  - 头部醒目显示“还差 X 积分”，列出本任务所需积分与当前余额。
  - 提供快捷充值档位：10 / 50 / 100 积分，默认勾选满足差额的最小档位。
  - 展示“自动补扣”说明：完成充值后系统立即扣除差额并恢复排队；若 10 分钟未完成充值，任务转为“已暂停”。
  - 提供“查看积分规则”“去任务中心”次级入口。
- 允许用户选择“稍后补扣”：
  - 任务卡片与任务中心均打上“待补扣”Tag，CTA 改为“立即补扣”。
  - 积分恢复满足需求后自动提示“补扣成功”，任务返回原先排队位置。
- 对于训练任务若余额 ≥ 70% 需求，将展示“先行锁定可用积分 + 待补扣差额”提示，说明剩余部分需在 30 分钟内补齐，否则自动取消并原路退回已锁定积分。

### 失败补扣与退款提示
- 若任务失败触发部分退款，系统在任务结果卡展示“已退还 X 积分 / 保留 Y 积分（算力占用）”提示，并提供“补扣记录”查看。
- 异常状态 toast 使用琥珀色背景，提示用户在补扣成功前无法重新排队。

### 授权与未授权
- 模板详情展示灰态遮罩，提示“需要创作者授权”；附“提交申请”按钮触发授权请求弹窗。
- CTA 切换为“查看授权流程”，并在副文案说明预期审核时长（默认 24 小时内回复）。

### 任务排队与加速位
- 排队状态卡片新增“预计开始时间”与“排队位置 X/Y”信息。
- 在任务中心顶部展示“加速排队”横幅：
  - 默认展示两个套餐：加速 5 分钟（20 积分）、加速至队首（50 积分）。
  - 选中后弹出确认框，说明“加速成功后不可退款；失败任务仍享有补扣退款政策”。
  - 若余额不足立即复用补扣弹窗逻辑。
- 列表项在使用加速后显示闪电图标与倒计时，提示剩余加速时效。
- 未加速用户仍可查看队列平均耗时，避免误解。

## 7. 任务中心界面规划
```
+-----------------+-------------------------------------------+
| 左侧栏 25%      | - 快捷入口：出图任务 / 训练任务 / 历史记录 |
|                 | - 充值按钮、积分余额、消耗趋势小图          |
+-----------------+-------------------------------------------+
| 顶部标签        | [进行中]  [已完成]  [异常]                  |
+--------------------------------------------------------------+
| 列表项          | 缩略图 + 任务类型 + 模板名称 + 状态 Tag    |
|                 | 进度条 + 当前步骤说明（含耗时、扣费）       |
|                 | 操作：暂停 / 取消 / 重试 / 下载             |
+--------------------------------------------------------------+
| 右侧信息面板    | 选中任务后展示详情：工作流参数、授权信息、 |
|                 | 日志、异常兜底提示（联系人工、发起工单）   |
+--------------------------------------------------------------+
```
- 实时推送：顶部 toast 提醒状态变更；列表自动刷新并带动画高亮。
- 结果下载：支持单个和批量，失败任务提供日志导出。
- “加速排队”横幅置于列表上方，使用横向卡片+按钮样式；当任务已加速时，横幅显示剩余次数及“查看加速记录”。
- 异常 Tab 显示补扣失败、授权缺失、违规驳回等状态，便于快速处理。

## 8. 创作者升级引导流程
1. 入口：首屏 CTA、模板管理页 banner、任务完成后提示。
2. Stepper：
   - Step1 上传训练成果（拖拽上传，显示必填数量与格式）。
   - Step2 填写模板说明（收益模型、适用场景、授权范围）。
   - Step3 授权管理（批量导入用户 ID、选择有效期）。
   - Step4 审核确认（展示 SLA、违规责任说明、提交按钮）。
3. 完成页：庆祝动画 + 下一步建议（分享模板、查看收益面板）。
4. 提供“暂存草稿”能力，保存未完成信息。

## 9. 审核与举报处理界面（与 Operations-Compliance）
- 审核面板：
  - 待审列表：可按提交时间、收益潜力排序，支持多选批量操作。
  - 详情区：作品图轮播 + 元数据 JSON 查看器 + 审核 checklist。
  - 操作区：通过 / 驳回 / 暂缓；驳回需填写原因模板（下拉 + 自定义）。
  - 二次提交流程：显示历史驳回记录与整改材料对比。
- 举报处理：
  - Tab：待处理、复核中、已结案。
  - 案例详情显示举报人、理由、关联模板、历史违规记录。
  - 行动按钮：先下架（立即变更前端状态）、通知创作者、记录整改期限（默认 72 小时）。
  - 复核机制：所有举报在初审后 24 小时内进入二次复核；界面顶部展示 SLA 倒计时与“指派复核人”按钮。
  - 提示语：初审完成弹出 toast“已进入复核环节，预计 XX:XX 完成”；复核逾期 1 小时转为红色告警条并附“通知合规负责人”。
- 日志：所有操作写入审计日志，支持导出 CSV；每条记录包含审核人、时间、动作、积分处理结果（补扣/退款）。

## 附：产出物
- 本文档作为线框与交互规格最新版；根据内容运营提供的文案可进一步转高保真稿。
- 需持续关注：
  - `platform-integration` 若调整积分扣费/加速档位，需要同步更新提示文案与弹窗逻辑。
  - `operations-compliance` 若修改复核 SLA 或举报流程，需在复核提示区更新倒计时与告警阈值。
  - `frontend-build` 接口联调时，如发现补扣或加速状态无法实时同步，需反馈以调整推送频率。
## 10. 设计令牌与素材交付
- 色彩：沿用 `shared/design-tokens.md` 中默认/创作者主题色；首页 CTA、充值入口使用 `--color-accent` (#2563eb)，创作者视图复刻按钮使用 Creator 主题色 `#9333ea`。
- 状态色：成功/警告/失败组件使用 `--color-positive`、`--color-warning`、`#dc2626`（与平台错误色保持一致）；空态背景使用 `--color-accent-soft`。
- 字体与字重：保持 tokens 定义的 H1/H2/H3/Body 阶梯，移动端标题统一减 2px。
- 间距：区块间距（64/48/32）与组件垂直间距（16）沿用 tokens，线框标注时注明 Breakpoint。
- 阴影与圆角：卡片与弹窗采用 `--shadow-soft` + `--radius-lg`；按钮 `--radius-md`。高保真提供组件标注表格。
- 动效：按钮 hover 上移 1px，shadow 不变；任务加速横幅遵循 tokens 中 CTA 阴影。
- 素材交付：
  1. Hero 渐变背景 `public/gradients/hero-default.png`（1920×1080，PNG，2025-09-18 前交付）。
  2. 快速上手插画 `public/illustrations/quickstart-step{1-3}.svg`（矢量，含 Creator 主题版本）。
  3. 任务状态图标 `public/icons/task-status-{success|warning|error}.svg`，颜色对应 tokens 状态色。
  4. 题头字体 `public/fonts/nuwa-headline.woff2`：确认 license，若无法上线改用系统字体。
- 交互稿附带素材清单与版本号，提交时同步 `shared/assets-manifest.md`。

## 11. 角色视角体验对齐
- 游客（Visitor）：显示 Landing + 模板详情公共信息；CTA 引导注册/登录；隐藏积分、任务中心入口。
- 注册用户（Viewer）：默认蓝色主题；可复刻、充值，任务中心展示个人任务；待补扣/加速提示仅对 Viewer 可见。
- 创作者（Creator）：切换紫色主题；新增“上传训练成果”“批量授权”“收益统计”入口；任务中心展示授权管理区块。
- 审核员（Reviewer）：审核后台/举报面板采用合规状态色，默认深色描边 + 琥珀警示；复核 SLA 倒计时面板使用红色逾期提示。
- 运营合规（Compliance Ops）：继承审核员权限 + 风控指标面板；可访问任务异常视图与策略配置；提示语引用合规字典。
- 平台管理员（Admin）：本阶段不产出界面；在 IA 中预留扩展位，待平台线迭代。
- 角色切换控件（右上 Persona 切换）绑定 `data-role` 与 tokens 主题；交互稿展示 Visitor→Viewer→Creator 的切换示例。
## 11. 角色视图体验对齐说明
- 审核员 / 运营合规视图：SLA 倒计时使用 24h/4h 节点，与 `reporting-sop.md` 一致；当剩余时间 <2h 时使用 `--color-warning` + toast “即将超时，需立即处理”。
- 举报处理卡片：标签色与 `frontend-build/public/admin/icons/report-status/*.svg` 对应，状态顺序为 待处理→调查中→已结案，与 `reporting-sop.md` 流程一致。
- 风控警示：预警列表使用 `frontend-build/public/admin/icons/alerts/alert-warning.svg`/`alert-danger.svg`；当连续两次告警时提示“请在 30 分钟内响应”，复核 SLA 与 `risk-monitoring-indicators.md` 对齐。
- 审核通过/驳回提示：调用 `review-status/*.svg` 并配合通知文案；复核状态仅对运营合规显示“需复核”蓝色标识。
- 如体验设计后续调整视觉稿，需同步更新上述路径与颜色令牌，并通知 operations-compliance。

## 11. 角色提示语更新（2025-09-19）
- Reviewer / Compliance 模块采用统一提示模板，强调 review.approve、compliance.policy scope 对应的审批字段。
- Viewer / Creator 卡片新增提示：操作写入 audit_trail，信息卡 Badge 显示“scope 生效”。
- Compliance Ops 风控看板需展示 policy_tag、risk_level、action_required 三字段，并在 9/20 版本完成配色映射。

